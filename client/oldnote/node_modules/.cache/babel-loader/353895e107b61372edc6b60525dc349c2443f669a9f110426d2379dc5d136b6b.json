{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\acer\\\\Desktop\\\\oldnotes\\\\client\\\\oldnote\\\\src\\\\components\\\\notes\\\\FileUploader.js\",\n  _s = $RefreshSig$();\nimport React, { useRef } from 'react';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nfunction FileUploader({\n  onUpload\n}) {\n  _s();\n  const fileInputRef = useRef(null);\n  const handleFileChange = async e => {\n    const files = e.target.files;\n    const formData = new FormData();\n    Array.from(files).forEach(file => {\n      formData.append('files', file);\n    });\n    try {\n      const response = await fetch('https://localhost:4000/api/files', {\n        method: 'POST',\n        mode: 'cors',\n        headers: {\n          'Content-Type': 'multiple/form-data'\n        },\n        body: formData\n      });\n      const result = await response.json();\n      const uploadedFiles = result.files.map(file => ({\n        id: file.id,\n        name: file.name,\n        isFolder: false,\n        data: file\n      }));\n      uploadedFiles.forEach(onUpload);\n    } catch (error) {\n      console.error('Error uploading files:', error);\n    }\n  };\n  const handleFolderChange = async e => {\n    const files = e.target.files;\n    const formData = new FormData();\n    const folderName = \"folder-\" + Date.now();\n    Array.from(files).forEach(file => {\n      formData.append('files', file);\n    });\n    formData.append('folderName', folderName);\n    try {\n      const response = await fetch('http://localhost:4000/route/upload', {\n        method: 'POST',\n        body: formData\n      });\n      if (!response.ok) {\n        throw new Error('Network response was not ok');\n      }\n      const result = await response.json();\n      const uploadedFiles = result.files.map(file => ({\n        id: file.id,\n        name: file.name,\n        isFolder: false,\n        data: file\n      }));\n      const newFolder = {\n        id: folderName,\n        name: folderName,\n        isFolder: true,\n        children: uploadedFiles\n      };\n      onUpload(newFolder);\n    } catch (error) {\n      console.error('Error uploading folder:', error);\n    }\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"file-uploader\",\n    children: [/*#__PURE__*/_jsxDEV(\"input\", {\n      type: \"file\",\n      multiple: true,\n      onChange: handleFileChange,\n      ref: fileInputRef,\n      style: {\n        display: 'none'\n      }\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 84,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n      onClick: () => fileInputRef.current.click(),\n      children: \"Upload File\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 91,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n      type: \"file\",\n      multiple: true,\n      webkitdirectory: true,\n      onChange: handleFolderChange,\n      ref: fileInputRef,\n      style: {\n        display: 'none'\n      }\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 92,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n      onClick: () => fileInputRef.current.click(),\n      children: \"Upload Folder\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 100,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 83,\n    columnNumber: 5\n  }, this);\n}\n_s(FileUploader, \"YQqvMxdmg33cmOXmQcOjJm+FLVI=\");\n_c = FileUploader;\nexport default FileUploader;\nvar _c;\n$RefreshReg$(_c, \"FileUploader\");","map":{"version":3,"names":["React","useRef","jsxDEV","_jsxDEV","FileUploader","onUpload","_s","fileInputRef","handleFileChange","e","files","target","formData","FormData","Array","from","forEach","file","append","response","fetch","method","mode","headers","body","result","json","uploadedFiles","map","id","name","isFolder","data","error","console","handleFolderChange","folderName","Date","now","ok","Error","newFolder","children","className","type","multiple","onChange","ref","style","display","fileName","_jsxFileName","lineNumber","columnNumber","onClick","current","click","webkitdirectory","_c","$RefreshReg$"],"sources":["C:/Users/acer/Desktop/oldnotes/client/oldnote/src/components/notes/FileUploader.js"],"sourcesContent":["import React, { useRef } from 'react'\r\n\r\nfunction FileUploader({onUpload}) {\r\n    const fileInputRef = useRef(null);\r\n\r\n    const handleFileChange = async(e) =>{\r\n        const files = e.target.files;\r\n        const formData = new FormData();\r\n\r\n        Array.from(files).forEach((file)=>{\r\n            formData.append('files',file)\r\n        })\r\n\r\n        try{\r\n            const response = await fetch('https://localhost:4000/api/files',{\r\n                method:'POST',\r\n                mode:'cors',\r\n                headers:{\r\n                    'Content-Type':'multiple/form-data'\r\n                },\r\n                body:formData,\r\n            });\r\n\r\n            const result = await response.json();\r\n\r\n            const uploadedFiles = result.files.map(file=>({\r\n                id:file.id,\r\n                name:file.name,\r\n                isFolder:false,\r\n                data:file,\r\n            }));\r\n\r\n            uploadedFiles.forEach(onUpload);\r\n        }\r\n        catch(error){\r\n            console.error('Error uploading files:', error);\r\n        }\r\n    }\r\n\r\n    const handleFolderChange = async (e) =>{\r\n        const files = e.target.files;\r\n        const formData = new FormData();\r\n        const folderName = \"folder-\"+Date.now();\r\n    \r\n        Array.from(files).forEach((file)=>{\r\n            formData.append('files',file);\r\n        })\r\n\r\n        formData.append('folderName', folderName);\r\n\r\n        try {\r\n            const response = await fetch('http://localhost:4000/route/upload', {\r\n              method: 'POST',\r\n              body: formData,\r\n            });\r\n      \r\n            if (!response.ok) {\r\n              throw new Error('Network response was not ok');\r\n            }\r\n      \r\n            const result = await response.json();\r\n      \r\n            const uploadedFiles = result.files.map(file => ({\r\n              id: file.id,\r\n              name: file.name,\r\n              isFolder: false,\r\n              data: file,\r\n            }));\r\n      \r\n            const newFolder = {\r\n              id: folderName,\r\n              name: folderName,\r\n              isFolder: true,\r\n              children: uploadedFiles,\r\n            };\r\n      \r\n            onUpload(newFolder);\r\n          } catch (error) {\r\n            console.error('Error uploading folder:', error);\r\n          }\r\n    }\r\n  return (\r\n    <div className=\"file-uploader\">\r\n      <input\r\n        type=\"file\"\r\n        multiple\r\n        onChange={handleFileChange}\r\n        ref={fileInputRef}\r\n        style={{ display: 'none' }}\r\n      />\r\n      <button onClick={() => fileInputRef.current.click()}>Upload File</button>\r\n      <input\r\n        type=\"file\"\r\n        multiple\r\n        webkitdirectory\r\n        onChange={handleFolderChange}\r\n        ref={fileInputRef}\r\n        style={{ display: 'none' }}\r\n      />\r\n      <button onClick={() => fileInputRef.current.click()}>Upload Folder</button>\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default FileUploader"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}